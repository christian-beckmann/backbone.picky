// Backbone.Picky, v0.3.0
// Copyright (c)2014 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
// http://github.com/derickbailey/backbone.picky


Backbone.Picky=function(a,b){var c={};c.SingleSelect=function(a){this.collection=a},b.extend(c.SingleSelect.prototype,{select:function(a){a&&this.selected===a||(this.deselect(),this.selected=a,this.selected.select(),this.trigger("select:one",a))},deselect:function(a){this.selected&&(a=a||this.selected,this.selected===a&&(this.selected.deselect(),this.trigger("deselect:one",this.selected),delete this.selected))}}),c.MultiSelect=function(a,b){this.collection=a,this.selected={},this.maxSelectable=b},b.extend(c.MultiSelect.prototype,{select:function(a){if("undefined"==typeof this.maxSelectable||this.maxSelectable<0||this.maxSelectable>b.size(this.selected)){if(this.selected[a.cid])return;this.selected[a.cid]=a,a.select(),d(this)}else a.deselect()},deselect:function(a){this.selected[a.cid]&&(delete this.selected[a.cid],a.deselect(),d(this))},selectAll:function(){this.each(function(a){a.select()}),d(this)},deselectAll:function(){this.selectNone()},selectNone:function(){0!==this.selectedLength&&(this.each(function(a){a.deselect()}),d(this))},toggleSelectAll:function(){this.selectedLength===this.length?this.selectNone():this.selectAll()},setMaxSelectable:function(a){return isNaN(a)&&(a=-1),this.maxSelectable=a,this},getSelected:function(){return 0===this.selectedLength?[]:b.where(this.selected,{selected:!0})},getDeselected:function(){var a=[];return this.each(function(b){b.selected||a.push(b)}),a}}),c.Selectable=function(a){this.model=a},b.extend(c.Selectable.prototype,{select:function(){this.selected||(this.selected=!0,this.trigger("selected",this),this.collection&&this.collection.select(this))},deselect:function(){this.selected&&(this.selected=!1,this.trigger("deselected",this),this.collection&&this.collection.deselect(this))},toggleSelected:function(){this.selected?this.deselect():this.select()}});var d=function(a){a.selectedLength=b.size(a.selected);var c=a.selectedLength,d=a.length;return c===d?void a.trigger("select:all",a):0===c?void a.trigger("select:none",a):c>0&&d>c?void a.trigger("select:some",a):void 0};return c}(Backbone,_);
//# sourceMappingURL=backbone.picky.map